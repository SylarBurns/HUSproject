{% extends 'mainPage/baseListPage.html' %}
{% block content %}
    {% load static %}
    <div id="list">
            <div id="boardName">감자밭</div><br>
            <div id="introduction">다양한 주제를 공유하는 남송리 대표 자유게시판입니다</div><br>
            {% if post_list %}
            <table id="potatoFieldList">
                <thead>
                    <tr>
                    <th class="number">번호</th>
                    <th class="title">제목</th>
                    <th class="writer">글쓴이</th>
                    <th class="hitCount">조회수</th>
                    <th class="pubDate">날짜</th>
                    </tr>
                </thead>
                <tbody>
                    {% for post in potatoFieldTopThree %}<!--topThree 리스트-->
                    <tr id="potatoFieldRank_{{forloop.counter}}">
                        {% if forloop.counter == 1 %}
                        <td class="number"><img src="/static/images/금메달.png" weight="28px" height="28px"></td>
                        {% elif forloop.counter == 2 %}
                        <td class="number"><img src="/static/images/은메달.png" weight="28px" height="28px"></td>
                        {% else %}
                        <td class="number"><img src="/static/images/동메달.png" weight="28px" height="28px"></td>
                        {% endif %}
                        <td class="title"> 
                            <a href="{% url 'potatoField:potatoFieldDetail' post.pk %}">{{post.title}}</a>
                            {% if post.was_published_recently %}
                            <img src="/static/images/new.png" weight="10px" height="10px">
                            {% endif %}
                        </td>
                        <td class="writer">{{post.getWriter.nickName}}</td>
                        <td class="hitCount"> {{post.hitCount}}</td>
                        {% if post.was_published_recently %}
                        <td class="pubDate"> {{post.pubDate|time:"H:i"}}</td>
                        {% else %}
                        <td class="pubDate">{{post.pubDate|date:"Y-m-d"}} </td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                    {% for post in post_list %}<!-- post 객체들을 상대로 for문 돌림 -->
                    <tr id="potatoFieldRank_{{forloop.counter}}">
                        <td class="number">{{post.pk}}</td>
                        <td class="title"> 
                            <a href="{% url 'potatoField:potatoFieldDetail' post.pk %}">{{post.title}}</a>
                            {% if post.was_published_recently %}
                            <img src="/static/images/new.png" weight="10px" height="10px">
                            {% endif %}
                        </td>
                        <td class="writer">{{post.getWriter.nickName}}</td>
                        <td class="hitCount"> {{post.hitCount}}</td>
                        {% if post.was_published_recently %}
                        <td class="pubDate"> {{post.pubDate|time:"H:i"}}</td>
                        {% else %}
                        <td class="pubDate">{{post.pubDate|date:"Y-m-d"}} </td>
                        {% endif %}
                    </tr>
                    {% endfor %}

                </tbody>
            </table>
            {% else %}
            <h3>아직 게시물이 없습니다. 첫번째 게시물의 주인공이 되어주세요! </h3>
            {% endif %}
            <button style="position: absolute; right:20%;"><a href="{% url 'potatoField:potatoFieldCreate' %}">글쓰기</button></a>
        </div>   

{% endblock %}
