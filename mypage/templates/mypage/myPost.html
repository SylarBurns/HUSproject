{% extends 'mainPage/baseListPage.html' %}
{% block content %}
<!DOCTYPE html>
<html>
<head>
  <title>myPost</title>
  {% load static %}
  <link rel="stylesheet" type="text/css" href="{% static 'mypage/style.css' %}">
</head>
<body>
<h2>마이페이지</h2>
<h4>각종 설정들을 확인 및 수정하세요</h4>

<table class="t01">
  <tr>
    <th><a href="{% url 'mypage:myPost' %}">내가 쓴 글</a></th>
    <td><a href="{% url 'mypage:myComment' %}">내가 쓴 댓글</a></td>
    <td><a href="{% url 'mypage:myReport' %}">신고 내역</a></td>
    <td><a href="{% url 'mypage:myData' %}">나의 정보</td>
  </tr>
</table>

<table class="main">
  <tr class="t02">
    <th>번호</th>
    <th>분류</th>
    <th>제목</th> 
    <th>조회수</th>
    <th>날짜</th>
  </tr>

  {% for relation in latest_post_list %}
    <tr>
    <td> {{relation.post.pk}} </td>
    {% if relation.post.boardNum == 1 %}
      <td>감자밭 </td>
      {% elif relation.post.boardNum == 2 %}
      <td>천마지</td>
      {% elif relation.post.boardNum == 3 %}
      <td>대나무숲</td>
      {% elif relation.post.boardNum == 4 %}
      <td>활주로 </td>
      {% elif relation.post.boardNum == 5 %}
      <td>한동장터</td>
      {% elif relation.post.boardNum == 6 %}
      <td>Lost&Found</td>
      {% elif relation.post.boardNum == 7 %}
      <td>부동산</td>
      {% elif relation.post.boardNum == 8 %}
      <td>공지사항</td>
    {% endif %}
    <td> {{ relation.post.title|truncatechars:30 }} </td>
    <td> {{ relation.post.hutCount}} </td>
    {% if relation.post.was_published_recently %}
      <td> {{relation.post.pubDate|time:"H:i"}}</td>
    {% else %}
      <td>{{relation.post.pubDate|date:"Y-m-d"}} </td>
    {% endif %}
    </tr>
  {% endfor %}
</table>
<br>

        {# Pagination #}
        {% if is_paginated %}
        <nav>
            <ul class="pagination">
            {% comment %} {% if page_obj.has_previous %} {% endcomment %}
                <a href="?page={{ 1 }}"><span> << </span></a>
                {% if page_obj.number > 11 %}
                <a href="?page={{ page_obj.number|add:'-10' }}"><span> < </span></a>
                {% else %}
                <a href="?page={{ 1 }}">
                    <span> < </span></a>
                {% endif %}
    
            {% for page in page_range %}
                <span {% if page == page_obj.number %}class="active"{% endif %}>
                <a href="?page={{ page }}">{{ page }}</a>
                </span>
            {% endfor %}
        
            {% if paginator.page_range|length > 1 %}
                {% comment %} <ol> {% endcomment %}
                {% if page_obj.number|add:'+9' < paginator.page_range|length%}
                <a href="?page={{ page_obj.number|add:'+10' }}"><span> > </span></a>
                {% else %}
                <a href="?page={{ page_obj.number }}">
                    <span> > </span></a>
                {% endif %}
                <a href="?page={{ paginator.page_range|length }}">
                    <span> >> </span></a>
                
            {% endif %}
            </ul>
        </nav>
        {% endif %}
        
</body>
</html>
{% endblock %}