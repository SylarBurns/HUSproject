{% extends 'mainPage/basePage.html' %}
{% block content %}
<!DOCTYPE html>
<html>
    <head>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'runway/Style.css'%}">   
        <meta charset="UTF-8">
        <title> boardList </title>
        
    </head>

    <body>
        <h2 class="boardName"> 활주로 </h2>
        <h4 class="boardName"> 활주로입니다</h4>
       {% if post_list %}
       <table width=80% height=30%>
        <th>#</th>
        <th width="75%">제목</th>
        <th>글쓴이</th>
        <th>조회수</th>
        <th>날짜</th>
        {% for post in post_list %}<!-- post 객체들을 상대로 for문 돌림 -->
        <tr>
            <td>{{post.pk}}</td>
            <td>
                <a href="{% url 'runway:runwayDetail' post.pk %}">{{post.title}}</a>
            </td>
            {% for Relation in post.post_relation.all %} <!--각 post 객체들에게 연결되어있는 PostRelation 객체들을 상대로 for문을 돌림-->
                {% if Relation.isWriter %}<!--Relation을 보고 작성자인지 확인-->
                    {% if Relation.annonimity %}
                    <td>{{Relation.annoName}}</td><!--Relation을 보고 익명인지 확인-->
                    {% else %}
                    <td>{{Relation.user.nickName}}</td>
                    {% endif %}
                {% endif %}
            {% endfor %}
            <td>{{post.hitCount}}</td>
            <td>{{post.pubDate}}</td>
        </tr>
        {% endfor %}
        </table>
        {% else %}
        <h3>아직 게시물이 없습니다. 첫번째 게시물의 주인공이 되어주세요! </h3>
        {% endif %}
       <button style="position: absolute; right:20%;"><a href="{% url 'runway:runwayCreate' %}">글쓰기</a></button>  

    </body>

<html>
{% endblock %}